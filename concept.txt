date: 31.07.2014 09:40

Brod Net concept
================

The network is going to cover two modes of operation.

1. Mesh network
2. Owerlay network

And should serve the following

1. Verifiable Files
2. Named Files
3. Keyword Searches
4. MeSsages

Discovery
---------

The node finds its peers by sending a local area broadcasts (LAND). It is 
performed by sending Hello packet to all devices in range of all network 
interfaces.

The second mode of discovery is wide area node discovery (WAND). It is 
performed by sending an AskNodes packet to all peers in node list, which 
should reply with list of nodes. The node then tryies to send Hello packet 
to discovered nodes directly. If successfull (eg: in Internet), it uses 
them as peers. If unsuccessfull (eg: in Meshnet), it updates its routing 
table.

### Note on key sizes

2048 RSA signing keys with SHA256 digest are ok (about 0.5kiB). DSA keys are preffered.
The whole hello.dat.gpg has to fit in one UDP packet (max 1kiB).

The hello.dat has one 10B Fingerprint, and like 48 4B Area codes ==213B.

Key Retrival
------------

Becouse the Hello packets are signed with pgp public key, this key has to 
be retrived to verifi the authenticity of the packets.

Keys are retrived as normal VFs identified as /vf/gpg/<fingerprint>.

Areas
-----

Each node has an area record. A node can find its area record from its 
peers. The area record is used to accelerate routing.

The area record is just list of area codes. An area code is 32bit 
number and specifies a geological or fictional location of the node.
There are usually more area codes in area record of a given node.

When there are too much nodes in an area, new area should be created. When 
there are too litle nodes in area, the area code is abadoned.

The area codes could be possibly created and managed autmomatically, but 
now they are managed by administrator.

INet
-----

Xinetd is going to listen for all connections.
